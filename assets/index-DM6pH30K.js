(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const b of r.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&u(b)}).observe(document,{childList:!0,subtree:!0});function y(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(t){if(t.ep)return;t.ep=!0;const r=y(t);fetch(t.href,r)}})();document.getElementById("mobile-menu-btn")?.addEventListener("click",()=>{document.getElementById("mobile-menu")?.classList.toggle("hidden")});document.querySelectorAll("#mobile-menu a").forEach(c=>{c.addEventListener("click",()=>{document.getElementById("mobile-menu")?.classList.add("hidden")})});(function(){const c=document.getElementById("hero-visual"),a=document.getElementById("center-node"),y=document.getElementById("connecting-lines"),u=document.querySelectorAll(".floating-card");if(!c||!a||!y)return;let t=null,r=null;function b(o){if(t||r)return;const f=c.getBoundingClientRect(),h=o.getBoundingClientRect(),l=Math.min(f.width*.85,550),e=Math.min(f.height*.7,380),s=f.left+f.width/2,n=f.top+f.height/2,i=h.left+h.width/2,d=h.top+h.height/2,m=s-i,g=n-d,E=Math.min(l/h.width,e/h.height);t=o,o.classList.add("expanded"),o.style.transition="none",u.forEach(p=>{p!==o&&(p.style.transition="opacity 0.3s, transform 0.3s",p.style.opacity="0",p.style.transform="scale(0.8)",p.style.pointerEvents="none")}),a.style.transition="opacity 0.3s, transform 0.3s",a.style.opacity="0",a.style.transform="scale(0.5)",y.style.transition="opacity 0.3s",y.style.opacity="0",r=o.animate([{transform:"rotate(0deg) translate(0, 0) scale(1)"},{transform:`translate(${m}px, ${g}px) scale(${E}) rotate(0deg)`}],{duration:500,easing:"cubic-bezier(0.32, 0.72, 0, 1)",fill:"forwards"}),r.onfinish=()=>{r=null;const p=o.querySelector(".card-image");p&&(p.style.height="85%")}}function q(){if(!t)return;const o=t;t=null;const f=o.querySelector(".card-image");f&&(f.style.height="");const l=getComputedStyle(o).transform;o.getAnimations().forEach(e=>e.cancel()),r=o.animate([{transform:l},{transform:"rotate(0deg) translate(0, 0) scale(1)"}],{duration:500,easing:"cubic-bezier(0.32, 0.72, 0, 1)",fill:"forwards"}),r.onfinish=()=>{r=null,o.classList.remove("expanded"),o.style.transition="",o.style.transform="",o.getAnimations().forEach(e=>e.cancel())},setTimeout(()=>{u.forEach(e=>{e!==o&&(e.style.opacity="",e.style.transform="",e.style.pointerEvents="",setTimeout(()=>e.style.transition="",400))}),a.style.opacity="",a.style.transform="",setTimeout(()=>a.style.transition="",400),y.style.opacity="",setTimeout(()=>y.style.transition="",400)},200)}u.forEach(o=>{o.addEventListener("click",f=>{f.stopPropagation(),t===o?q():t||b(o)})}),c.addEventListener("click",o=>{t&&!t.contains(o.target)&&q()})})();(function(){const c=document.getElementById("step-label"),a=document.querySelectorAll(".step-dot"),y=document.querySelectorAll(".scene");if(!c||a.length===0||y.length===0)return;const u=[{label:"Press ⌘⇧4",scene:0},{label:"Select region",scene:1},{label:"Captured!",scene:2},{label:"Add markers",scene:3},{label:"Send to AI",scene:4}];let t=-1;const r=(l,e)=>{l instanceof HTMLElement&&Object.assign(l.style,e)};function b(l){t=l;const e=u[l];c&&(c.textContent=e.label),a.forEach((s,n)=>{r(s,{background:n===l?"#f97316":"rgba(255,255,255,0.3)",transform:n===l?"scale(1.4)":"scale(1)"})}),y.forEach((s,n)=>{r(s,{opacity:n===e.scene?"1":"0"})}),setTimeout(()=>q(e.scene),150)}function q(l){const e=y[l];if(e)switch(l){case 0:{const s=e.querySelector(".hotkey-hint");s&&setTimeout(()=>{s.style.opacity="1",s.style.transform="scale(1)"},400);break}case 1:{const s=e.querySelector(".crosshair"),n=e.querySelector(".selection-box"),d=e.querySelector(".skeleton-box")?.getBoundingClientRect(),m=d?d.width*.8:320,g=d?d.height*.65:180;s&&n&&(s.style.opacity="1",setTimeout(()=>{s.style.transition="transform 1s ease-out",s.style.transform=`translate(${m}px, ${g}px)`,n.style.transition="width 1s ease-out, height 1s ease-out",n.style.width=`${m}px`,n.style.height=`${g}px`},200));break}case 2:{const s=e.querySelector(".capture-flash"),n=e.querySelector(".capture-result");s&&(s.style.transition="opacity 0.15s ease-out",s.style.opacity="0.9",setTimeout(()=>s.style.opacity="0",150)),n&&setTimeout(()=>{n.style.opacity="1",n.style.transform="scale(1)"},300);break}case 3:{const s=e.querySelectorAll(".tool-icon"),n=e.querySelectorAll(".annotation-marker");s.forEach((i,d)=>{setTimeout(()=>{i.style.opacity="1",i.style.transform="scale(1)"},d*80)}),n.forEach((i,d)=>{setTimeout(()=>{i.style.opacity="1",i.style.transform="scale(1)"},350+d*180)});break}case 4:{const s=e.querySelector(".upload-bar"),n=e.querySelector(".upload-success"),i=e.querySelector(".upload-label"),d=e.querySelectorAll(".ai-message"),m=e.querySelector(".ai-success");s&&setTimeout(()=>s.style.width="100%",100),n&&setTimeout(()=>{n.style.opacity="1",n.style.transform="scale(1)"},900),i&&setTimeout(()=>i.style.opacity="1",1e3),d.forEach((g,E)=>{setTimeout(()=>{g.style.opacity="1",g.style.transform="translateY(0)"},600+E*450)}),m&&setTimeout(()=>m.style.opacity="1",1800);break}}}function o(l){const e=y[l];if(!e)return;const s=e.querySelector(".hotkey-hint");s&&(s.style.opacity="0",s.style.transform="scale(0.9)");const n=e.querySelector(".crosshair"),i=e.querySelector(".selection-box");n&&(n.style.transition="none",n.style.opacity="0",n.style.transform="translate(0, 0)"),i&&(i.style.transition="none",i.style.width="0",i.style.height="0");const d=e.querySelector(".capture-flash"),m=e.querySelector(".capture-result");d&&(d.style.opacity="0"),m&&(m.style.opacity="0",m.style.transform="scale(0.95)"),e.querySelectorAll(".tool-icon").forEach(S=>{S.style.opacity="0",S.style.transform="scale(0)"}),e.querySelectorAll(".annotation-marker").forEach(S=>{S.style.opacity="0",S.style.transform="scale(0)"});const g=e.querySelector(".upload-bar"),E=e.querySelector(".upload-success"),p=e.querySelector(".upload-label"),T=e.querySelector(".ai-success");g&&(g.style.width="0"),E&&(E.style.opacity="0",E.style.transform="scale(0)"),p&&(p.style.opacity="0"),T&&(T.style.opacity="0"),e.querySelectorAll(".ai-message").forEach(S=>{S.style.opacity="0",S.style.transform="translateY(10px)"})}const f=[2500,2500,2200,2800,4500];function h(){const l=f[t]||2500;setTimeout(()=>{t>=0&&o(u[t].scene);const e=(t+1)%u.length;b(e),h()},l)}y.forEach((l,e)=>o(e)),b(0),h()})();(function(){const c=document.getElementById("copy-btn"),a=document.getElementById("install-command");!c||!a||c.addEventListener("click",()=>{const y=a.textContent||"";navigator.clipboard.writeText(y).then(()=>{const u=c.querySelector(".material-symbols-outlined"),t=c.childNodes[c.childNodes.length-1];u&&(u.textContent="check"),t&&t.nodeType===Node.TEXT_NODE&&(t.textContent=" Copied!"),c.classList.add("bg-green-600","hover:bg-green-700"),c.classList.remove("bg-[#171717]","hover:bg-black"),setTimeout(()=>{u&&(u.textContent="content_copy"),t&&t.nodeType===Node.TEXT_NODE&&(t.textContent=" Copy"),c.classList.remove("bg-green-600","hover:bg-green-700"),c.classList.add("bg-[#171717]","hover:bg-black")},2e3)})})})();
